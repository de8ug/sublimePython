(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{181:function(s,t,e){"use strict";e.r(t);var a=e(0),n=Object(a.a)({},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),e("p",[s._v("https://github.com/amoffat/sh")]),s._v(" "),e("p",[s._v("这个项目可以用来取代标准库中的 subprocess；同时兼容 Python2 和 Python3。")]),s._v(" "),e("p",[s._v("使用它可以写出比 subprocess 更简洁、更优雅的代码。")]),s._v(" "),e("p",[s._v("代码示例——获取命令输出")]),s._v(" "),s._m(3),e("p",[s._v("代码示例——命令行参数")]),s._v(" "),s._m(4),e("p",[s._v("代码示例——管道")]),s._v(" "),s._m(5),s._m(6),s._v(" "),s._m(7),s._v(" "),e("p",[s._v("用于进程信号处理的标准库（主要用于 Linux & UNIX 系统）。")]),s._v(" "),s._m(8),s._v(" "),s._m(9),s._v(" "),e("p",[s._v("https://github.com/boppreh/keyboard")]),s._v(" "),e("p",[s._v("顾名思义，这个库让你可以进行各种键盘相关的操作，包括：模拟按键、键盘钩子（hook），按键记录及重放。")]),s._v(" "),e("p",[s._v("支持复杂的组合键。纯 python 代码代码，同时支持 Windows 和 Linux。")]),s._v(" "),s._m(10),s._m(11),s._v(" "),s._m(12),s._v(" "),e("p",[s._v("访问由解释器使用或维护的变量和与解释器进行交互的函数")]),s._v(" "),s._m(13),s._m(14),s._v(" "),e("p",[s._v("提供了很多用于获取操作系统的信息的功能。")]),s._v(" "),s._m(15),s._m(16),s._v(" "),e("p",[s._v("https://github.com/giampaolo/psutil")]),s._v(" "),e("p",[s._v("psutil（Python system and process utilities）是一个跨平台的进程管理和系统工具库，可以处理”CPU、内存、磁盘、网络、用户“等信息。")]),s._v(" "),e("p",[s._v("主要用于系统资源的监控，分析，以及对进程进行一定的管理。")]),s._v(" "),s._m(17),s._m(18),s._v(" "),e("p",[s._v("可以很方便地跟 POSIX 的 syslog 服务进行交互")]),s._v(" "),s._m(19),s._v(" "),e("p",[s._v("http://python.net/crew/mhammond/win32/")]),s._v(" "),e("p",[s._v("这个第三方库封装了 Windows API 及 COM API。通过它可以方便地用 Python 进行 Windows 编程（调用 COM 组件、编写 Windows 服务、等）。")]),s._v(" "),s._m(20),s._v(" "),s._m(21),s._v(" "),e("p",[s._v("https://github.com/fabric/fabric\nhttps://www.fabfile.org/")]),s._v(" "),e("p",[s._v("连接服务器，远程执行ssh命令")]),s._v(" "),s._m(22),s._m(23),s._v(" "),e("p",[s._v("https://github.com/ansible/ansible")]),s._v(" "),e("p",[s._v("https://docs.ansible.com/ansible/latest/index.html")]),s._v(" "),e("p",[s._v("Ansible是一种信息技术自动化工具。它可以配置系统、部署软件和编排更高级的信息技术任务，如连续部署或零停机滚动更新。")]),s._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[s._v("学习路上遇到问题？")]),s._v(" "),e("p",[s._v("欢迎随时在"),e("a",{attrs:{href:"https://github.com/de8ug/spt/issues",target:"_blank",rel:"noopener noreferrer"}},[s._v("工单"),e("OutboundLink")],1),s._v("\n或直接公众号"),e("code",[s._v("iknowpython.com")]),s._v("留言进行提问")])])])},[function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"自动化运维"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动化运维","aria-hidden":"true"}},[this._v("#")]),this._v(" 自动化运维")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"执行linux命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行linux命令","aria-hidden":"true"}},[this._v("#")]),this._v(" 执行Linux命令")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"sh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sh","aria-hidden":"true"}},[this._v("#")]),this._v(" sh")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('from sh import ifconfig\nprint(ifconfig("wlan0"))\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('from sh import curl\n# 传统风格\ncurl("https://program-think.blogspot.com/", "-o", "test.html", "--silent")\n# 命名参数风格\ncurl("https://program-think.blogspot.com/", o="test.html", silent=True)\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br"),t("span",{staticClass:"line-number"},[this._v("5")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('from sh import ls, wc\nprint(wc(ls("/etc", "-1"), "-l"))\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"进程间通信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进程间通信","aria-hidden":"true"}},[this._v("#")]),this._v(" 进程间通信")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"signal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#signal","aria-hidden":"true"}},[this._v("#")]),this._v(" signal")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"硬件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#硬件","aria-hidden":"true"}},[this._v("#")]),this._v(" 硬件")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"keyboard"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#keyboard","aria-hidden":"true"}},[this._v("#")]),this._v(" keyboard")])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('import keyboard\n\n# 模拟按键。\nkeyboard.press_and_release("shift+s, space")\n\n# 模拟按键，并执行相应代码。\nkeyboard.add_hotkey("page up, page down", lambda: keyboard.write("xxxx"))\n\n# 等待特定按键，然后继续执行。\nkeyboard.wait("esc")\n\n# 记录按键，直到用户按了 ESC；然后以3倍速重放刚才记录的按键。\nrecorded = keyboard.record(until="esc")\nkeyboard.play(recorded, speed_factor=3)\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"系统资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统资源","aria-hidden":"true"}},[this._v("#")]),this._v(" 系统资源")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"sys"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sys","aria-hidden":"true"}},[this._v("#")]),this._v(" sys")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("sys.argv     # 命令行参数 List，第一个元素是程序本身路径\nsys.exit(0)  # 退出程序，正常退出时用 0 表示退出码\nsys.version  # 获取 Python 解释程序的版本信息\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"platform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#platform","aria-hidden":"true"}},[this._v("#")]),this._v(" platform")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('import platform\n\nplatform.platform()      # 获取操作系统名称及版本号，例如："Windows-7-6.1.7601-SP1"\nplatform.version()       # 获取操作系统版本号，例如："6.1.7601"\nplatform.architecture()  # 获取操作系统的架构，例如：("32bit", "WindowsPE")\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br"),t("span",{staticClass:"line-number"},[this._v("5")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"psutil"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#psutil","aria-hidden":"true"}},[this._v("#")]),this._v(" psutil")])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import psutil\n\npsutil.cpu_count()       # 获取 CPU 数量\npsutil.cpu_freq()        # 获取 CPU 频率\n\npsutil.virtual_memory()  # 获取内存信息\npsutil.swap_memory()     # 获取交换分区（换页文件）信息\n\npsutil.disk_partitions() # 获取分区信息\npsutil.disk_usage('/')   # 获取某分区的使用情况\n\npsutil.users()           # 获取用户信息\n\np = psutil.Process(pid)  # 根据给定的 pid 获得进程对象\np.name()                 # 进程名\np.exe()                  # 可执行程序的全路径\np.cwd()                  # 进程的当前目录\np.cmdline()              # 启动进程的命令行参数\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"syslog"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#syslog","aria-hidden":"true"}},[this._v("#")]),this._v(" syslog")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"pywin32"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pywin32","aria-hidden":"true"}},[this._v("#")]),this._v(" PyWin32")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"运维工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运维工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 运维工具")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"fabric"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fabric","aria-hidden":"true"}},[this._v("#")]),this._v(" fabric")])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(">>> from fabric import Connection\n>>> result = Connection('web1.example.com').run('uname -s', hide=True)\n>>> msg = \"Ran {0.command!r} on {0.connection.host}, got stdout:\\n{0.stdout}\"\n>>> print(msg.format(result))\nRan 'uname -s' on web1.example.com, got stdout:\nLinux\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"ansible"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ansible","aria-hidden":"true"}},[this._v("#")]),this._v(" ansible")])}],!1,null,null,null);n.options.__file="ops.md";t.default=n.exports}}]);